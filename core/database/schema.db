CREATE TABLE `user` (
  `id` varchar(255) PRIMARY KEY,
  `username` varchar(255),
  `name` varchar(255),
  `photo` longblob DEFAULT null,
  `npp` varchar(255),
  `role` varchar(255),
  `description` varchar(255),
  `is_notify` int DEFAULT 0
);

CREATE TABLE `customer` (
  `id` varchar(255) PRIMARY KEY,
  `name` varchar(255),
  `address` varchar(255),
  `telephone` int,
  `expiry_date` datetime,
  `business_category` varchar(255),
  `service` varchar(255),
  `key_person_name` varchar(255),
  `key_person_dob` datetime,
  `key_person_hp` int,
  `created_at` timestamp,
  `updated_at` timestamp DEFAULT null
);

CREATE TABLE `bank_account` (
  `id` varchar(255) PRIMARY KEY,
  `id_customer` varchar(255),
  `number` int,
  `name` varchar(255) DEFAULT ""
);

CREATE TABLE `mandatory_check` (
  `id_customer` varchar(255),
  `deed_of_establishment` datetime,
  `npwp` int,
  `nib` int,
  `sk_menkumham` int,
  `IDcard_keeper` int,
  `agreement` int,
  `kyc_form` int,
  `bo_form` int,
  `client_risk_form` int
);

CREATE TABLE `log` (
  `id` int PRIMARY KEY AUTO_INCREMENT,
  `id_customer` varchar(255),
  `id_file` int,
  `created_at` timestamp,
  `message` text
);

CREATE TABLE `file` (
  `id` int PRIMARY KEY AUTO_INCREMENT,
  `id_customer` varchar(255),
  `name` varchar(255),
  `type` varchar(255),
  `file` longblob DEFAULT null,
  `created_at` timestamp,
  `updated_at` timestamp DEFAULT null
);

CREATE TABLE `board_of_director` (
  `id` varchar(255) PRIMARY KEY,
  `name` varchar(255),
  `photo` longblob DEFAULT null,
  `npp`  varchar(255),
  `role`  varchar(255),
  `description` text
);

CREATE TABLE `notification` (
  `id` int PRIMARY KEY AUTO_INCREMENT,
  `id_customer` varchar(255),
  `id_bod` varchar(255),
  `created_at` timestamp,
  `message` text
);

CREATE TABLE `announcement` (
  `id` int PRIMARY KEY AUTO_INCREMENT,
  `id_user` varchar(255),
  `title` text,
  `content` text,
  `created_at` timestamp,
  `updated_at` timestamp DEFAULT null
);

ALTER TABLE `log` ADD FOREIGN KEY (`id`) REFERENCES `user` (`id`);

ALTER TABLE `announcement` ADD FOREIGN KEY (`id`) REFERENCES `user` (`id`);

ALTER TABLE `board_of_director` ADD FOREIGN KEY (`id`) REFERENCES `customer` (`id`);

ALTER TABLE `notification` ADD FOREIGN KEY (`id`) REFERENCES `customer` (`id`);

ALTER TABLE `file` ADD FOREIGN KEY (`id`) REFERENCES `customer` (`id`);

ALTER TABLE `bank_account` ADD FOREIGN KEY (`id`) REFERENCES `customer` (`id`);

ALTER TABLE `log` ADD FOREIGN KEY (`id`) REFERENCES `file` (`id`);
